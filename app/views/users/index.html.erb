<div class="container mx-auto">
  <div class="mx-auto relative overflow-x-auto w-full max-w-7xl h-full bg-white border border-gray-200 rounded-lg shadow mt-11">
    <% if user_signed_in? %>
      <p class="mx-auto text-right m-5 pr-10">
        <%= link_to "Sign out", destroy_user_session_path, data: { turbo_method: :delete }, class: "text-md font-medium text-blue-600 hover:underline align-right" %>
      </p>
    <% end %>

    <p class="text-center text-slate-700 text-4xl mt-5 mb-11">Users</p>

    <div class="mx-auto">
      <%= render 'search' %>
    </div>

    <% if UserPolicy.new(current_user, User.new).new? %>
      <p class="mx-auto w-1/2 text-right mb-3 mt-11">
        <%= link_to 'New User', new_user_path, id: 'new_user', class: "text-md font-medium text-blue-600 hover:underline align-right" %>
      </p>
    <% end %>
    <table class="text-sm text-left text-gray-500 mx-auto rounded-lg p-10 shadow-lg mb-11">
      <thead class="text-xs text-gray-700 uppercase bg-gray-100">
        <tr>
          <th scope="col" class="px-6 py-3"><%= sort_link(@q, :name, 'Name') %></th>
          <th scope="col" class="px-6 py-3"><%= sort_link(@q, :email, 'Email') %></th>
          <th scope="col" class="px-6 py-3"><%= sort_link(@q, :role, 'Role') %></th>
          <th scope="col" class="px-6 py-3"><%= sort_link(@q, :active, 'Status') %></th>
          <th scope="col" class="px-6 py-3"></th>
        </tr>
      </thead>
      <tbody>
        <%= render @users %>
      </tbody>
    </table>
  </div>
</div>
